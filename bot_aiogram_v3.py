import asyncio
import os
import logging
from aiogram import Bot, Dispatcher, types
from aiogram.enums import ParseMode
from aiogram.types import Message
from aiogram.utils.keyboard import ReplyKeyboardBuilder
from aiogram.utils.keyboard import InlineKeyboardBuilder
from aiogram.fsm.storage.memory import MemoryStorage
from aiogram import Router
from aiogram.filters import Command
from aiogram.types import FSInputFile
from aiogram.types import InlineKeyboardMarkup, InlineKeyboardButton, CallbackQuery
from aiogram.types import ReplyKeyboardRemove
from fastapi import FastAPI, Request
import hashlib
from aiogram.fsm.state import State, StatesGroup
from aiogram.fsm.context import FSMContext
import time



# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω
API_TOKEN = os.environ.get("BOT_TOKEN")
if not API_TOKEN:
    raise RuntimeError("BOT_TOKEN is not set")


# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞
bot = Bot(token=API_TOKEN, parse_mode=ParseMode.HTML)
dp = Dispatcher(storage=MemoryStorage())
router = Router()


# --- –ö–Ω–æ–ø–∫–∏ --- #
def get_main_keyboard():
    kb = ReplyKeyboardBuilder()
    kb.button(text="üìé –°–∫–∞—á–∞—Ç—å –±–µ—Å–ª–∞—Ç–Ω—ã–π PDF")
    kb.button(text="üî• –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏ –ø–ª–∞—Ç–Ω—ã—Ö PDF?")
    kb.button(text="‚ú® –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã")
    kb.button(text="üìÑ –ü—É–±–ª–∏—á–Ω–∞—è –æ—Ñ–µ—Ä—Ç–∞")
    kb.adjust(1)
    return kb.as_markup(resize_keyboard=True)


def after_preview_keyboard():
    kb = ReplyKeyboardBuilder()
    kb.button(text="üî• –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏ –ø–ª–∞—Ç–Ω—ã—Ö PDF?")
    kb.adjust(1)
    return kb.as_markup(resize_keyboard=True)


# --- –•–µ–Ω–¥–ª–µ—Ä—ã --- #
@router.message(Command("start"))
async def cmd_start(message: Message):
    await message.answer(
        "–ü—Ä–∏–≤–µ—Ç! üëã\n\n–Ø –ø–æ–º–æ–≥—É —Ç–µ–±–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ. –ü–æ–ª—É—á–∏ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π PDF "
        "—Å 10 –ø—Ä–æ–º–ø—Ç–∞–º–∏ –∏ –Ω–∞—á–Ω–∏ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!",
        reply_markup=get_main_keyboard()
    )


@router.message(Command("menu"))
async def show_menu(message: Message):
    await message.answer(
        "üè† <b>–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</b>",
        parse_mode=ParseMode.HTML,
        reply_markup=get_main_keyboard()
    )


@router.message(lambda msg: msg.text == "üìé –°–∫–∞—á–∞—Ç—å –±–µ—Å–ª–∞—Ç–Ω—ã–π PDF")
async def send_pdf(message: Message):
    file = FSInputFile("data/10 –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è ChatGPT.pdf", filename="10 –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è ChatGPT.pdf")
    await message.answer_document(
        document=file,
        caption="‚úÖ –í–æ—Ç —Ç–≤–æ–π PDF —Å 10 AI-–ø—Ä–æ–º–ø—Ç–∞–º–∏ ‚Äî —Å—Ç–∞—Ä—Ç–æ–≤—ã–π –Ω–∞–±–æ—Ä, —á—Ç–æ–±—ã –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –≤ –¥–µ–ª–µ."
    )
    await message.answer(
        "üöÄ –•–æ—á–µ—à—å –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å?\n\n"
        "–£ –Ω–∞—Å –µ—Å—Ç—å 7 PDF –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –Ω–∏—à–∞–º: –º–∞—Ä–∫–µ—Ç–∏–Ω–≥, Reels, –±–ª–æ–≥–µ—Ä—ã, –∫—É—Ä—Å—ã, –æ—Ñ–ª–∞–π–Ω –∏ —Ç.–¥.\n\n"
        "–ù–∞–∂–º–∏ üëâ <b>üî• –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏ –ø–ª–∞—Ç–Ω—ã—Ö PDF?</b>",
        reply_markup=after_preview_keyboard()
    )


@router.message(lambda msg: msg.text == "üìÑ –ü—É–±–ª–∏—á–Ω–∞—è –æ—Ñ–µ—Ä—Ç–∞")
async def send_public_offer(message: Message):
    await message.answer(
        'üßæ <b>–ü—É–±–ª–∏—á–Ω–∞—è –æ—Ñ–µ—Ä—Ç–∞</b> –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ —Å—Å—ã–ª–∫–µ:\n\n'
        '<a href="https://telegra.ph/Publichnaya-oferta--AI-Laboratoriya-05-08">–û—Ç–∫—Ä—ã—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç</a>',
        parse_mode=ParseMode.HTML,
        reply_markup=types.ReplyKeyboardRemove()
    )


@router.message(lambda msg: msg.text == "‚ú® –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã")
async def start_custom_prompt(message: Message, state: FSMContext):
    await state.set_state(CustomPromptForm.waiting_for_description)
    await message.answer(
        "üß† <b>–û–ø–∏—à–∏ –∫–∞–∫ –º–æ–∂–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–µ–µ, –∫–∞–∫–∞—è –∑–∞–¥–∞—á–∞ –ø–µ—Ä–µ–¥ —Ç–æ–±–æ–π —Å—Ç–æ–∏—Ç:</b>\n\n"
        "‚Äî –ì–¥–µ —Ç—ã –ø–ª–∞–Ω–∏—Ä—É–µ—à—å –ø—Ä–∏–º–µ–Ω—è—Ç—å –ø—Ä–æ–º–ø—Ç—ã? (Instagram, —Å–∞–π—Ç, –ø—Ä–æ–¥–∞–∂–∏, —Ä–µ–∫–ª–∞–º–∞, –æ–±—É—á–µ–Ω–∏–µ...)\n"
        "‚Äî –ß—Ç–æ –∏–º–µ–Ω–Ω–æ —Ö–æ—á–µ—à—å –ø–æ–ª—É—á–∏—Ç—å –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ? (–∏–¥–µ–∏, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, —Ç–µ–∫—Å—Ç—ã, —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏...)\n"
        "‚Äî –ö–∞–∫–∞—è —É —Ç–µ–±—è –Ω–∏—à–∞ / –ø—Ä–æ–¥—É–∫—Ç / –∞—É–¥–∏—Ç–æ—Ä–∏—è?\n\n"
        "‚úçÔ∏è <b>–ü—Ä–∏–º–µ—Ä:</b>\n"
        "¬´–Ø –ø—Ä–æ–¥–≤–∏–≥–∞—é –æ–Ω–ª–∞–π–Ω-–∫—É—Ä—Å –¥–ª—è —ç–∫—Å–ø–µ—Ä—Ç–æ–≤. –•–æ—á—É —Å–µ—Ä–∏—é —Å—Ç–æ—Ä–∏—Å –∏ Reels, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–≤–ª–µ–∫–∞—é—Ç –∏ –≤–µ–¥—É—Ç –∫ "
        "–ø–æ–∫—É–ø–∫–µ. –¶–ê ‚Äî –ø—Å–∏—Ö–æ–ª–æ–≥–∏ –∏ –∫–æ—É—á–∏. –ö–∞–Ω–∞–ª ‚Äî Instagram.¬ª\n\n"
        "üìå –ß–µ–º –ø–æ–¥—Ä–æ–±–Ω–µ–µ ‚Äî —Ç–µ–º –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–µ–µ –±—É–¥—É—Ç –ø—Ä–æ–º–ø—Ç—ã. –ù–∞–ø–∏—à–∏ –Ω–∏–∂–µ üëá",
        parse_mode=ParseMode.HTML,
        reply_markup=types.ReplyKeyboardRemove()
    )
    

@router.callback_query(lambda c: c.data == "custom_prompt")
async def handle_custom_prompt_button(callback: CallbackQuery, state: FSMContext):
    await callback.message.answer(
        "üß† <b>–û–ø–∏—à–∏ –∫–∞–∫ –º–æ–∂–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–µ–µ, –∫–∞–∫–∞—è –∑–∞–¥–∞—á–∞ –ø–µ—Ä–µ–¥ —Ç–æ–±–æ–π —Å—Ç–æ–∏—Ç:</b>\n\n"
        "‚Äî –ì–¥–µ —Ç—ã –ø–ª–∞–Ω–∏—Ä—É–µ—à—å –ø—Ä–∏–º–µ–Ω—è—Ç—å –ø—Ä–æ–º–ø—Ç—ã? (Instagram, —Å–∞–π—Ç, –ø—Ä–æ–¥–∞–∂–∏, —Ä–µ–∫–ª–∞–º–∞, –æ–±—É—á–µ–Ω–∏–µ...)\n"
        "‚Äî –ß—Ç–æ –∏–º–µ–Ω–Ω–æ —Ö–æ—á–µ—à—å –ø–æ–ª—É—á–∏—Ç—å –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ? (–∏–¥–µ–∏, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, —Ç–µ–∫—Å—Ç—ã, —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏...)\n"
        "‚Äî –ö–∞–∫–∞—è —É —Ç–µ–±—è –Ω–∏—à–∞ / –ø—Ä–æ–¥—É–∫—Ç / –∞—É–¥–∏—Ç–æ—Ä–∏—è?\n\n"
        "‚úçÔ∏è <b>–ü—Ä–∏–º–µ—Ä:</b>\n"
        "¬´–Ø –ø—Ä–æ–¥–≤–∏–≥–∞—é –æ–Ω–ª–∞–π–Ω-–∫—É—Ä—Å –¥–ª—è —ç–∫—Å–ø–µ—Ä—Ç–æ–≤. –•–æ—á—É —Å–µ—Ä–∏—é —Å—Ç–æ—Ä–∏—Å –∏ Reels, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–≤–ª–µ–∫–∞—é—Ç –∏ –≤–µ–¥—É—Ç –∫ –ø–æ–∫—É–ø–∫–µ. "
        "–¶–ê ‚Äî –ø—Å–∏—Ö–æ–ª–æ–≥–∏ –∏ –∫–æ—É—á–∏. –ö–∞–Ω–∞–ª ‚Äî Instagram.¬ª\n\n"
        "üìå –ß–µ–º –ø–æ–¥—Ä–æ–±–Ω–µ–µ ‚Äî —Ç–µ–º –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–µ–µ –±—É–¥—É—Ç –ø—Ä–æ–º–ø—Ç—ã. –ù–∞–ø–∏—à–∏ –Ω–∏–∂–µ üëá",
        parse_mode=ParseMode.HTML
    )
    await state.set_state(CustomPromptForm.waiting_for_description)
    await callback.answer()


# --- –•–µ–Ω–¥–ª–µ—Ä: –æ–ø–∏—Å–∞–Ω–∏–µ –ø–ª–∞—Ç–Ω–æ–≥–æ PDF --- #
@router.message(lambda msg: msg.text == "üî• –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏ –ø–ª–∞—Ç–Ω—ã—Ö PDF?")
async def show_paid_options(message: Message):
    # –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å –Ω–∏—à–∞–º–∏
    kb = InlineKeyboardBuilder()
    kb.button(text="üìπ Reels", callback_data="niche_reels")
    kb.button(text="üì± SMM", callback_data="niche_smm")
    kb.button(text="üë§ –ë–ª–æ–≥–µ—Ä—ã", callback_data="niche_blog")
    kb.button(text="üè™ –û—Ñ–ª–∞–π–Ω-–±–∏–∑–Ω–µ—Å", callback_data="niche_offline")
    kb.button(text="üéì –û–Ω–ª–∞–π–Ω-–∫—É—Ä—Å—ã", callback_data="niche_courses")
    kb.button(text="üì¶ –¢–æ–≤–∞—Ä–∫–∞", callback_data="niche_ecom")
    kb.button(text="üíº –§—Ä–∏–ª–∞–Ω—Å", callback_data="niche_freelance")
    kb.adjust(2)

    await message.answer(
        "üëá –í—ã–±–µ—Ä–∏ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â—É—é –Ω–∏—à—É, —á—Ç–æ–±—ã —Ä–∞—Å–∫—Ä—ã—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ PDF –∏ –ø–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –ø–æ–∫—É–ø–∫—É:",
        reply_markup=kb.as_markup()
    )

    # –û—Ç–¥–µ–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–æ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã
    ind_kb = InlineKeyboardBuilder()
    ind_kb.button(text="‚ú® –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã", callback_data="custom_prompt")
    await message.answer(
        "‚ùì –ù–µ –Ω–∞—à—ë–ª —Å–≤–æ—é –Ω–∏—à—É?\n–ü–æ–ø—Ä–æ–±—É–π <b>–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã</b> ‚Äî –º—ã —Å–æ–±–µ—Ä—ë–º PDF –ø–æ–¥ —Ç–≤–æ—é –∑–∞–¥–∞—á—É:",
        parse_mode=ParseMode.HTML,
        reply_markup=ind_kb.as_markup()
    )
    
    await message.answer(
    "üëá –î–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é",
    reply_markup=types.ReplyKeyboardRemove()
    )


@router.callback_query(lambda c: c.data.startswith("niche_"))
async def show_niche_pdf(callback: CallbackQuery):
    niche = callback.data.replace("niche_", "")
    descriptions = {
        "reels": (
            "üé¨ <b>Reels-–ø—Ä–æ–º–ø—Ç—ã –¥–ª—è Instagram –∏ TikTok</b>\n\n"
            "‚ö° –•–≤–∞—Ç–∏—Ç —Å–Ω–∏–º–∞—Ç—å –Ω–∞–æ–±—É–º! –≠—Ç–æ—Ç PDF –¥–∞—ë—Ç:\n"
            "‚Ä¢ 5 –≤–∏—Ä—É—Å–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –ø–æ–¥ Reels + –∫—Ä—é—á–∫–∏, —Ö–µ—à—Ç–µ–≥–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–∏–¥–µ–æ\n"
            "‚Ä¢ –ü—Ä–∏–º–µ—Ä—ã —Ñ–æ—Ä–º–∞—Ç–æ–≤: voiceover, —ç–∫—Ä–∞–Ω, —Å–µ–ª—Ñ–∏\n"
            "‚Ä¢ –°—Ç–∏–ª–∏ –ø–æ–¥–∞—á–∏: –æ—Ç —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ–≥–æ –¥–æ –¥–µ—Ä–∑–∫–æ–≥–æ\n\n"
            "üß© –¢—ã –ø–æ–ª—É—á–∏—à—å 5 –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ—Ä–∞–±–æ—Ç–∞–Ω –ø–æ–¥ –∫–ª—é—á–µ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –Ω–∏—à–∏.\n"
            "–û–Ω–∏ —Ç–æ—á–Ω–µ–µ, –≥–ª—É–±–∂–µ –∏ –ø—Ä–∞–∫—Ç–∏—á–Ω–µ–µ, —á–µ–º –≤ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º PDF ‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.\n\n"
            "üí¨ –ß–∞—Å—Ç—ã–µ —Å–æ–º–Ω–µ–Ω–∏—è:\n"
            "‚Äì ¬´–£–∂–µ —Å–Ω–∏–º–∞–ª, –Ω–µ –∑–∞—Ö–æ–¥–∏—Ç¬ª ‚Üí –ü—Ä–æ–º–ø—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –ø–æ–¥ –∞–ª–≥–æ—Ä–∏—Ç–º—ã 2025\n"
            "‚Äì ¬´–ù–µ –∑–Ω–∞—é, —á—Ç–æ —Å–∫–∞–∑–∞—Ç—å –≤ –∫–∞–¥—Ä–µ¬ª ‚Üí –ü—Ä–æ—Å—Ç–æ —Å–ª–µ–¥—É–π —à–∞–±–ª–æ–Ω—É: 1 –º–∏–Ω—É—Ç–∞ ‚Äî –∏ –≤–∏–¥–µ–æ –≥–æ—Ç–æ–≤–æ\n\n"
            "üéØ –£–∂–µ —á–µ—Ä–µ–∑ 10 –º–∏–Ω—É—Ç —É —Ç–µ–±—è –±—É–¥–µ—Ç 5 –≥–æ—Ç–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —Å–Ω–∏–º–∞—Ç—å —Å–µ–≥–æ–¥–Ω—è\n"
            "‚ùó –ò–ª–∏ —Å–Ω–æ–≤–∞ –ø–æ—Ç—Ä–∞—Ç–∏—à—å –≤–µ—á–µ—Ä, –ª–∏—Å—Ç–∞—è Reels –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ –±–µ–∑ –ø–ª–∞–Ω–∞\n"
            "üí≥ PDF –∑–∞ 249 ‚ÇΩ ‚Äî –∏ —Ç—ã —Å–Ω–∏–º–∞–µ—à—å —É–≤–µ—Ä–µ–Ω–Ω–æ, –±–µ–∑ —Å—Ç—É–ø–æ—Ä–∞"
        ),

        "smm": (
            "üì± <b>–ü—Ä–æ–º–ø—Ç—ã –¥–ª—è SMM-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç-–º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞</b>\n\n"
            "üìå –°—Ñ–æ—Ä–º–∏—Ä—É–π –º–æ—â–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω –∑–∞ —á–∞—Å:\n"
            "‚Ä¢ –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è –ª–∏–¥-–º–∞–≥–Ω–∏—Ç–æ–≤, –ø—Ä–æ–≥—Ä–µ–≤–æ–≤, –∞–∫—Ü–∏–π\n"
            "‚Ä¢ –ò–¥–µ–∏ –≤–æ–≤–ª–µ–∫–∞—é—â–∏—Ö –ø–æ—Å—Ç–æ–≤ –∏ Reels\n"
            "‚Ä¢ –ü—Ä–∏–º–µ—Ä—ã –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ —Å—Ç–æ—Ä–∏—Ç–µ–ª–ª–∏–Ω–≥–∞\n\n"
            "üß© –¢—ã –ø–æ–ª—É—á–∏—à—å 5 –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ—Ä–∞–±–æ—Ç–∞–Ω –ø–æ–¥ –∫–ª—é—á–µ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –Ω–∏—à–∏.\n"
            "–û–Ω–∏ —Ç–æ—á–Ω–µ–µ, –≥–ª—É–±–∂–µ –∏ –ø—Ä–∞–∫—Ç–∏—á–Ω–µ–µ, —á–µ–º –≤ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º PDF ‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.\n\n"
            "üí¨ –ß–∞—Å—Ç—ã–µ –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è:\n"
            "‚Äì ¬´–£ –∫–ª–∏–µ–Ω—Ç–æ–≤ —Ä–∞–∑–Ω–∞—è –Ω–∏—à–∞¬ª ‚Üí –ü—Ä–æ–º–ø—Ç—ã —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã –∏ –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ–¥ –ª—é–±—É—é —Ç–µ–º—É\n"
            "‚Äì ¬´–Ø —É–∂–µ —Ä–∞–±–æ—Ç–∞—é —Å –ò–ò¬ª ‚Üí –ù–æ —Ç—ã –Ω–µ –≤–∏–¥–µ–ª —Ç–∞–∫–∏—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π: –æ–Ω–∏ –ø—Ä–æ–¥–≤–∏–≥–∞—é—Ç, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–∏—à—É—Ç\n\n"
            "üéØ –£–∂–µ —Å–µ–≥–æ–¥–Ω—è —Ç—ã —Å–º–æ–∂–µ—à—å –Ω–∞–±—Ä–æ—Å–∞—Ç—å –ø–ª–∞–Ω –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –Ω–∞ –Ω–µ–¥–µ–ª—é –≤–ø–µ—Ä—ë–¥\n"
            "‚ùó –ò–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∏—à—å –≤—ã–º—É—á–∏–≤–∞—Ç—å –ø–æ—Å—Ç—ã –ø–æ –æ–¥–Ω–æ–π –∏–¥–µ–µ –≤ –¥–µ–Ω—å\n"
            "üí≥ PDF –∑–∞ 249 ‚ÇΩ ‚Äî –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç—â–∏–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –Ω–æ–µ—Ç –∏ –Ω–µ —É—Å—Ç–∞–µ—Ç"
        ),

        "blog": (
            "üë§ <b>–ü—Ä–æ–º–ø—Ç—ã –¥–ª—è –±–ª–æ–≥–µ—Ä–æ–≤ –∏ –ª–∏—á–Ω–æ–≥–æ –±—Ä–µ–Ω–¥–∞</b>\n\n"
            "üéØ –°–¥–µ–ª–∞–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å–∏–ª—å–Ω—ã–º, –∏—Å–∫—Ä–µ–Ω–Ω–∏–º –∏ —Ü–µ–ø–ª—è—é—â–∏–º:\n"
            "‚Ä¢ –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è —Ä–∞—Å–∫—Ä—ã—Ç–∏—è —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ—Å—Ç–∏ –∏ —ç–º–æ—Ü–∏–π\n"
            "‚Ä¢ –®–∞–±–ª–æ–Ω—ã –ø—Ä–æ–≥—Ä–µ–≤–æ–≤, —Ä—É–±—Ä–∏–∫ –∏ —Å—Ç–æ—Ä–∏—Å\n"
            "‚Ä¢ –°—Ç—Ä—É–∫—Ç—É—Ä—ã –≤–æ–≤–ª–µ–∫–∞—é—â–µ–≥–æ –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è\n\n"
            "üß© –¢—ã –ø–æ–ª—É—á–∏—à—å 5 –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ—Ä–∞–±–æ—Ç–∞–Ω –ø–æ–¥ –∫–ª—é—á–µ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –Ω–∏—à–∏.\n"
            "–û–Ω–∏ —Ç–æ—á–Ω–µ–µ, –≥–ª—É–±–∂–µ –∏ –ø—Ä–∞–∫—Ç–∏—á–Ω–µ–µ, —á–µ–º –≤ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º PDF ‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.\n\n"
            "üí¨ –°–æ–º–Ω–µ–Ω–∏—è:\n"
            "‚Äì ¬´–Ø –Ω–µ —É–º–µ—é –∫—Ä–∞—Å–∏–≤–æ –ø–∏—Å–∞—Ç—å¬ª ‚Üí –ü—Ä–æ—Å—Ç–æ –≤—Å—Ç–∞–≤—å —Å–≤–æ–∏ –º—ã—Å–ª–∏ –≤ —à–∞–±–ª–æ–Ω ‚Äî –ø–æ–ª—É—á–∏—Ç—Å—è –æ–≥–æ–Ω—å\n"
            "‚Äì ¬´–ú–æ—è —Ç–µ–º–∞ –Ω–µ –∑–∞—Ö–æ–¥–∏—Ç¬ª ‚Üí –ë—Ä–µ–Ω–¥ –ø—Ä–æ–¥–∞—ë—Ç —á–µ—Ä–µ–∑ –¥–æ–≤–µ—Ä–∏–µ, –∞ –Ω–µ —á–µ—Ä–µ–∑ —Ç–µ–º—É. –≠—Ç–∏ –ø—Ä–æ–º–ø—Ç—ã —Å—Ç—Ä–æ—è—Ç –¥–æ–≤–µ—Ä–∏–µ\n\n"
            "üéØ –£ —Ç–µ–±—è –±—É–¥–µ—Ç –∑–∞–ø–∞—Å –ø–æ—Å—Ç–æ–≤ –∏ —Å—Ç–æ—Ä–∏—Å —Å —Å–∏–ª—å–Ω—ã–º –ø–æ—Å—ã–ª–æ–º —É–∂–µ —Å–µ–≥–æ–¥–Ω—è\n"
            "‚ùó –ò–ª–∏ –æ–ø—è—Ç—å –æ—Ç–∫—Ä–æ–µ—à—å Instagram ‚Äî –∏ –∑–∞–∫—Ä–æ–µ—à—å, –Ω–µ –∑–Ω–∞—è, —á—Ç–æ –ø–∏—Å–∞—Ç—å\n"
            "üí≥ PDF –∑–∞ 249 ‚ÇΩ ‚Äî —Ç–≤–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç-–ø—Ä–æ–¥—é—Å–µ—Ä –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ"
        ),

        "offline": (
            "üè™ <b>–ü—Ä–æ–º–ø—Ç—ã –¥–ª—è –º–∞–ª–æ–≥–æ –æ—Ñ–ª–∞–π–Ω-–±–∏–∑–Ω–µ—Å–∞</b>\n\n"
            "üì¶ –ú–∞–≥–∞–∑–∏–Ω, —Å–∞–ª–æ–Ω, —Å—Ç—É–¥–∏—è ‚Äî —Å–¥–µ–ª–∞–π —Ç–∞–∫, —á—Ç–æ–±—ã –∫–ª–∏–µ–Ω—Ç—ã —Ö–æ—Ç–µ–ª–∏ –ø—Ä–∏–π—Ç–∏:\n"
            "‚Ä¢ –ì–æ—Ç–æ–≤—ã–µ —Ç–µ–∫—Å—Ç—ã –¥–ª—è –ø–æ—Å—Ç–æ–≤, –ª–∏—Å—Ç–æ–≤–æ–∫ –∏ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–æ–≤\n"
            "‚Ä¢ –ò–¥–µ–∏ —Å—Ç–æ—Ä–∏—Å, –∞–∫—Ü–∏–π –∏ –∫–æ—Ä–æ—Ç–∫–∏—Ö —Ä–æ–ª–∏–∫–æ–≤\n"
            "‚Ä¢ –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑—ã –∏ –≤—ã–≥–æ–¥—ã\n\n"
            "üß© –¢—ã –ø–æ–ª—É—á–∏—à—å 5 –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ—Ä–∞–±–æ—Ç–∞–Ω –ø–æ–¥ –∫–ª—é—á–µ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –Ω–∏—à–∏.\n"
            "–û–Ω–∏ —Ç–æ—á–Ω–µ–µ, –≥–ª—É–±–∂–µ –∏ –ø—Ä–∞–∫—Ç–∏—á–Ω–µ–µ, —á–µ–º –≤ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º PDF ‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.\n\n"
            "üí¨ –ß–∞—Å—Ç—ã–µ —Å–æ–º–Ω–µ–Ω–∏—è:\n"
            "‚Äì ¬´–ê —É –º–µ–Ω—è –ª–æ–∫–∞–ª—å–Ω—ã–π –±–∏–∑–Ω–µ—Å¬ª ‚Üí –ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É —Ç–µ–±–µ –Ω—É–∂–µ–Ω —Å–∏–ª—å–Ω—ã–π –ø–æ—Å—ã–ª –≤ –æ–Ω–ª–∞–π–Ω–µ\n"
            "‚Äì ¬´–Ø –Ω–µ –∫–æ–ø–∏—Ä–∞–π—Ç–µ—Ä¬ª ‚Üí –ò –Ω–µ –Ω–∞–¥–æ. –ü—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π —à–∞–±–ª–æ–Ω –∏ –≤—Å—Ç–∞–≤—å –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–≤–æ–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞\n\n"
            "üéØ –£–∂–µ —Å–µ–≥–æ–¥–Ω—è —Å–º–æ–∂–µ—à—å –æ—Ñ–æ—Ä–º–∏—Ç—å –ø–æ—Å—Ç, –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –∏ —Ä–∞—Å—Å—ã–ª–∫—É –±–µ–∑ –≥–æ–ª–æ–≤–Ω–æ–π –±–æ–ª–∏\n"
            "‚ùó –ò–ª–∏ –æ—Å—Ç–∞–≤–∏—à—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—É—Å—Ç–æ–π ‚Äî –∏ –∫–ª–∏–µ–Ω—Ç—ã –ø–æ–π–¥—É—Ç –∫ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—É\n"
            "üí≥ PDF –∑–∞ 249 ‚ÇΩ ‚Äî –∫–∞–∫ –Ω–∞–Ω—è—Ç—å –º–∞—Ä–∫–µ—Ç–æ–ª–æ–≥–∞ –Ω–∞ 1 –¥–µ–Ω—å –∑–∞ –∫–æ–ø–µ–π–∫–∏"
        ),

        "courses": (
            "üéì <b>–ü—Ä–æ–º–ø—Ç—ã –¥–ª—è –æ–Ω–ª–∞–π–Ω-–∫—É—Ä—Å–æ–≤ –∏ –∏–Ω—Ñ–æ–±–∏–∑–Ω–µ—Å–∞</b>\n\n"
            "üöÄ –ó–∞–ø—É—Å–∫ –Ω–∞ –∞–≤—Ç–æ–ø–∏–ª–æ—Ç–µ:\n"
            "‚Ä¢ –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫—É—Ä—Å–∞, —É—Ä–æ–∫–æ–≤, –≤–µ–±–∏–Ω–∞—Ä–∞, –ª–µ–Ω–¥–∏–Ω–≥–∞\n"
            "‚Ä¢ –ò–¥–µ–∏ –¥–ª—è ¬´–ø—Ä–æ–≥—Ä–µ–≤–∞¬ª –∏ —Å—Ç–æ—Ä–∏—Ç–µ–ª–ª–∏–Ω–≥–∞\n"
            "‚Ä¢ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ñ—Ñ–µ—Ä–æ–≤ –∏ –ª–∏–¥-–º–∞–≥–Ω–∏—Ç–æ–≤\n\n"
            "üß© –¢—ã –ø–æ–ª—É—á–∏—à—å 5 –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ—Ä–∞–±–æ—Ç–∞–Ω –ø–æ–¥ –∫–ª—é—á–µ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –Ω–∏—à–∏.\n"
            "–û–Ω–∏ —Ç–æ—á–Ω–µ–µ, –≥–ª—É–±–∂–µ –∏ –ø—Ä–∞–∫—Ç–∏—á–Ω–µ–µ, —á–µ–º –≤ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º PDF ‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.\n\n"
            "üí¨ –°–æ–º–Ω–µ–Ω–∏—è:\n"
            "‚Äì ¬´–Ø —Ç–æ–ª—å–∫–æ —Å–æ–±–∏—Ä–∞—é—Å—å –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è¬ª ‚Üí –ó–Ω–∞—á–∏—Ç, –Ω–∞—á–Ω–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚Äî —Å —á—ë—Ç–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –æ—Ñ—Ñ–µ—Ä–∞\n"
            "‚Äì ¬´–Ø —É–∂–µ –ø—Ä–æ–¥–∞—é¬ª ‚Üí –¢–æ–≥–¥–∞ —Å–æ–∫—Ä–∞—Ç–∏ –≤—Ä–µ–º—è –∏ —É—Å–∏–ª–∏—è –Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç –≤ 5 —Ä–∞–∑\n\n"
            "üéØ –ß–µ—Ä–µ–∑ 15 –º–∏–Ω—É—Ç —É —Ç–µ–±—è –±—É–¥–µ—Ç –∫–∞—Ä–∫–∞—Å –∫—É—Ä—Å–∞ –∏ –ø—Ä–æ–¥–∞—é—â–∏–π —Ç–µ–∫—Å—Ç\n"
            "‚ùó –ò–ª–∏ –±—É–¥–µ—à—å —Å–Ω–æ–≤–∞ –ø–∏—Å–∞—Ç—å –≤—Å—ë ¬´—Å –Ω—É–ª—è¬ª –∫–∞–∂–¥—ã–π –∑–∞–ø—É—Å–∫\n"
            "üí≥ PDF –∑–∞ 249 ‚ÇΩ ‚Äî –±–µ–∑ –º–µ—Ç–æ–¥–∏—Å—Ç–∞, –±–µ–∑ –∫–æ–ø–∏—Ä–∞–π—Ç–µ—Ä–∞, –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫"
        ),

        "ecom": (
            "üì¶ <b>–ü—Ä–æ–º–ø—Ç—ã –¥–ª—è —Ç–æ–≤–∞—Ä–∫–∏ –∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–æ–≤</b>\n\n"
            "üõç –ü—Ä–æ–¥–∞–≤–∞–π —Å–ª–æ–≤–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ü–µ–ø–ª—è—é—Ç:\n"
            "‚Ä¢ –£–ø–∞–∫–æ–≤–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫: –æ—Ñ—Ñ–µ—Ä—ã, –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞, –£–¢–ü\n"
            "‚Ä¢ –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è –æ—Ç–∑—ã–≤–æ–≤, —Å—Ç–æ—Ä–∏—Å, —Ä–µ–∫–ª–∞–º—ã\n"
            "‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —à–∞–±–ª–æ–Ω–æ–≤ –≤ –ø–µ—Ä–µ–ø–∏—Å–∫–µ\n\n"
            "üß© –¢—ã –ø–æ–ª—É—á–∏—à—å 5 –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ—Ä–∞–±–æ—Ç–∞–Ω –ø–æ–¥ –∫–ª—é—á–µ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –Ω–∏—à–∏.\n"
            "–û–Ω–∏ —Ç–æ—á–Ω–µ–µ, –≥–ª—É–±–∂–µ –∏ –ø—Ä–∞–∫—Ç–∏—á–Ω–µ–µ, —á–µ–º –≤ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º PDF ‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.\n\n"
            "üí¨ –í–æ–∑—Ä–∞–∂–µ–Ω–∏—è:\n"
            "‚Äì ¬´–ú–æ–π —Ç–æ–≤–∞—Ä –Ω–µ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –¥—Ä—É–≥–∏—Ö¬ª ‚Üí –°–ª–æ–≤–∞ —Ä–µ—à–∞—é—Ç. –≠—Ç–∏ –ø—Ä–æ–º–ø—Ç—ã –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç –æ–±—ã—á–Ω—ã–π —Ç–æ–≤–∞—Ä –≤ ¬´–Ω–∞–¥–æ —Å—Ä–æ—á–Ω–æ¬ª\n"
            "‚Äì ¬´–ù–µ—Ç –≤—Ä–µ–º–µ–Ω–∏¬ª ‚Üí –ì–æ—Ç–æ–≤—ã–π —Ñ–∞–π–ª = 15 –º–∏–Ω—É—Ç ‚Äî –∏ –ø—Ä–æ–¥–∞—é—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç –≥–æ—Ç–æ–≤\n\n"
            "üéØ –£–∂–µ —Å–µ–≥–æ–¥–Ω—è —Ç—ã —Å–º–æ–∂–µ—à—å –ø–µ—Ä–µ—É–ø–∞–∫–æ–≤–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É —Ç–æ–≤–∞—Ä–∞ –∏ —Ç–µ–∫—Å—Ç—ã\n"
            "‚ùó –ò–ª–∏ –±—É–¥–µ—à—å —Å–Ω–æ–≤–∞ —Å–Ω–∏–∂–∞—Ç—å —Ü–µ–Ω—É –∏ –∂–¥–∞—Ç—å –æ—Ç–∫–ª–∏–∫–∞\n"
            "üí≥ PDF –∑–∞ 249 ‚ÇΩ ‚Äî —Ç–≤–æ–π —Å–∫—Ä—ã—Ç—ã–π –ø—Ä–æ–¥–∞–≤–µ—Ü –Ω–∞ –≤—Å–µ—Ö –ø–ª–æ—â–∞–¥–∫–∞—Ö"
        ),

        "freelance": (
            "üíº <b>–ü—Ä–æ–º–ø—Ç—ã –¥–ª—è —Ñ—Ä–∏–ª–∞–Ω—Å–µ—Ä–æ–≤ –∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ —É—Å–ª—É–≥</b>\n\n"
            "üß† –£–ø–∞–∫—É–π —Å–≤–æ–∏ —É—Å–ª—É–≥–∏ –∏ —É–≤–µ–ª–∏—á—å –¥–æ—Ö–æ–¥:\n"
            "‚Ä¢ –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è –∏ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ\n"
            "‚Ä¢ –°—Ü–µ–Ω–∞—Ä–∏–∏ –ø–µ—Ä–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∫–ª–∏–µ–Ω—Ç—É\n"
            "‚Ä¢ –®–∞–±–ª–æ–Ω—ã –ø—Ä–æ–≥—Ä–µ–≤–∞ –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è —Ü–µ–Ω–Ω–æ—Å—Ç–∏\n\n"
            "üß© –¢—ã –ø–æ–ª—É—á–∏—à—å 5 –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ—Ä–∞–±–æ—Ç–∞–Ω –ø–æ–¥ –∫–ª—é—á–µ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –Ω–∏—à–∏.\n"
            "–û–Ω–∏ —Ç–æ—á–Ω–µ–µ, –≥–ª—É–±–∂–µ –∏ –ø—Ä–∞–∫—Ç–∏—á–Ω–µ–µ, —á–µ–º –≤ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º PDF ‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.\n\n"
            "üí¨ –í–æ–∑—Ä–∞–∂–µ–Ω–∏—è:\n"
            "‚Äì ¬´–£—Å–ª—É–≥–∏ —Å–ª–æ–∂–Ω–æ –æ–±—ä—è—Å–Ω–∏—Ç—å¬ª ‚Üí –≠—Ç–∏ –ø—Ä–æ–º–ø—Ç—ã –ø–µ—Ä–µ–≤–æ–¥—è—Ç —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ—Å—Ç—å –≤ –ø—Ä–æ—Å—Ç—É—é –≤—ã–≥–æ–¥—É –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞\n"
            "‚Äì ¬´–ú–∞–ª–æ –∑–∞–∫–∞–∑–æ–≤¬ª ‚Üí –¢—ã –ª–∏–±–æ –Ω–µ –¥–æ–Ω–æ—Å–∏—à—å —Ü–µ–Ω–Ω–æ—Å—Ç—å, –ª–∏–±–æ –Ω–µ —Ü–µ–ø–ª—è–µ—à—å ‚Äî PDF –∏—Å–ø—Ä–∞–≤–∏—Ç —ç—Ç–æ\n\n"
            "üéØ –£–∂–µ —Å–µ–≥–æ–¥–Ω—è —Ç—ã —Å–º–æ–∂–µ—à—å –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å, –∑–∞—è–≤–∫—É –∏ –Ω–∞—á–∞—Ç—å –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –±–æ–ª—å—à–µ\n"
            "‚ùó –ò–ª–∏ –æ—Å—Ç–∞–Ω–µ—à—å—Å—è —Å—Ä–µ–¥–∏ —Ç–µ—Ö, –∫—Ç–æ –ø–∏—à–µ—Ç ¬´–¥–µ–ª–∞—é –±—ã—Å—Ç—Ä–æ –∏ –Ω–µ–¥–æ—Ä–æ–≥–æ¬ª ‚Äî –∏ —Å–∏–¥–∏—Ç –±–µ–∑ –∑–∞–∫–∞–∑–æ–≤\n"
            "üí≥ PDF –∑–∞ 249 ‚ÇΩ ‚Äî –∫–∞–∫ —É–ø–∞–∫–æ–≤–∫–∞ –Ω–∞ –º–∏–ª–ª–∏–æ–Ω –±–µ–∑ –¥–∏–∑–∞–π–Ω–∞"
        ),
    }

    text = descriptions.get(niche, "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ —ç—Ç–æ–π –Ω–∏—à–µ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–∑–∂–µ.")
    kb = InlineKeyboardBuilder()
    kb.button(text="üí≥ –û–ø–ª–∞—Ç–∏—Ç—å 249 ‚ÇΩ", url="https://example.com/payment_placeholder")
    await callback.message.answer(text, parse_mode=ParseMode.HTML, reply_markup=kb.as_markup())
    await callback.answer()

custom_requests = {}  # user_id: {"text": str, "timestamp": float}


class CustomPromptForm(StatesGroup):
    waiting_for_description = State()


async def clear_request_after_timeout(user_id: int, delay: int = 1800):
    await asyncio.sleep(delay)
    if user_id in custom_requests:
        del custom_requests[user_id]


@router.message(CustomPromptForm.waiting_for_description)
async def receive_description(message: Message, state: FSMContext):
    user_id = message.from_user.id
    description = message.text.strip()

    # –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–∞—è–≤–∫—É
    custom_requests[user_id] = {
        "text": description,
        "timestamp": time.time()
    }

    kb = InlineKeyboardBuilder()
    kb.button(text="üí≥ –û–ø–ª–∞—Ç–∏—Ç—å 499 ‚ÇΩ", url="https://example.com/custom_payment_placeholder")

    await message.answer(
    "‚úÖ <b>–ó–∞—è–≤–∫–∞ –ø–æ–ª—É—á–µ–Ω–∞!</b>\n\n"
    "–ú—ã –ø–æ–¥–≥–æ—Ç–æ–≤–∏–º <b>3 –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö AI-–ø—Ä–æ–º–ø—Ç–∞</b> –ø–æ–¥ —Ç–≤–æ—é –∑–∞–¥–∞—á—É: –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ, —Ç–æ–Ω—É, –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É.\n\n"
    "üí≥ –°—Ç–æ–∏–º–æ—Å—Ç—å ‚Äî <b>499 ‚ÇΩ</b>\n"
    "‚è≥ –í–∞–∂–Ω–æ: —Å—Å—ã–ª–∫–∞ –Ω–∞ –æ–ø–ª–∞—Ç—É –±—É–¥–µ—Ç –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞ <b>30 –º–∏–Ω—É—Ç</b>.\n\n"
    "–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –∑–∞—è–≤–∫–∞ –ø–æ—Å—Ç—É–ø–∏—Ç –≤ —Ä–∞–±–æ—Ç—É, –∏ —Ç—ã –ø–æ–ª—É—á–∏—à—å PDF –Ω–∞–ø—Ä—è–º—É—é –≤ Telegram.",
    parse_mode=ParseMode.HTML,
    reply_markup=kb.as_markup()
    )


    await state.clear()

    # –ó–∞–ø—É—Å–∫–∞–µ–º –∞–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏ —á–µ—Ä–µ–∑ 30 –º–∏–Ω—É—Ç
    asyncio.create_task(clear_request_after_timeout(user_id, delay=1800))

# Robokassa –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
ROBO_LOGIN = "ai_lab"
ROBO_PASSWORD2 = "sKNbUPuD24G7P0oadt3A"

# –¢–∞–±–ª–∏—Ü–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π –∫–æ–¥–æ–≤ —Ç–æ–≤–∞—Ä–∞ –∏ PDF
PRODUCTS = {
    "reels": "data/–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ Reels-–ø—Ä–æ–º–ø—Ç—ã –¥–ª—è Instagram –∏ TikTok.pdf",
    "smm": "data/–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è SMM-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç-–º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞.pdf",
    "blog": "data/–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –±–ª–æ–≥–µ—Ä–æ–≤ –∏ –ª–∏—á–Ω–æ–≥–æ –±—Ä–µ–Ω–¥–∞.pdf",
    "offline": "data/–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –º–∞–ª–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞ –∏ –æ—Ñ–ª–∞–π–Ω-—É—Å–ª—É–≥.pdf",
    "courses": "data/–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –æ–Ω–ª–∞–π–Ω-–∫—É—Ä—Å–æ–≤ –∏ –∏–Ω—Ñ–æ–±–∏–∑–Ω–µ—Å–∞.pdf",
    "ecom": "data/–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è —Ç–æ–≤–∞—Ä–Ω–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞ –∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–æ–≤.pdf",
    "freelance": "data/–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è —Ñ—Ä–∏–ª–∞–Ω—Å–µ—Ä–æ–≤ –∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ —É—Å–ª—É–≥.pdf"
}

# --- FastAPI –¥–ª—è Robokassa --- #
app = FastAPI()


@app.post("/payment_callback")
async def robokassa_payment_handler(request: Request):
    form = await request.form()
    OutSum = form.get("OutSum")
    InvId = form.get("InvId")
    SignatureValue = form.get("SignatureValue")

    # –¢–æ–ª—å–∫–æ –±–æ–µ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
    base = f"{OutSum}:{InvId}:{ROBO_PASSWORD2}"
    expected_signature = hashlib.md5(base.encode()).hexdigest().upper()

    if SignatureValue.upper() != expected_signature:
        return "bad sign"

    try:
        tg_user_id, product_code = InvId.split("_")
        pdf_path = PRODUCTS.get(product_code)
        if not pdf_path:
            return "product not found"

        file = FSInputFile(pdf_path)
        await bot.send_document(chat_id=int(tg_user_id), document=file,
                                caption="‚úÖ –°–ø–∞—Å–∏–±–æ –∑–∞ –æ–ø–ª–∞—Ç—É! –í–æ—Ç –≤–∞—à PDF.")
        return "OK"
    except Exception as e:
        return f"error: {e}"


# --- –ó–∞–ø—É—Å–∫ aiogram-–±–æ—Ç–∞ --- #
async def main():
    logging.basicConfig(level=logging.INFO)
    dp.include_router(router)
    await dp.start_polling(bot)


@app.on_event("startup")
async def start_bot():
    asyncio.create_task(main())
